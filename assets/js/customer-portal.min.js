"use strict";!function(c){c(document).ready(function(){var n=c(".edit_icon"),a=c("#edit_customer_form"),i="active",t=c("#submit",a),o=c(".loader"),l=c("#phone");a.find("input").attr("disabled",!0);function r(){l.removeClass("error"),s.html(""),s.addClass("hidden")}var s=c(".error-msg"),d=["Invalid number","Invalid country code","Too short","Too long","Invalid number"];l.intlTelInput({utilsScript:"/utils.js",allowDropdown:!1,localizedCountries:{de:"Deutschland"},separateDialCode:!0,initialCountry:"de",onlyCountries:["de"]});l.blur(function(){if(r(),l.val().trim())if(l.intlTelInput("isValidNumber"))t.attr("disabled",!1),console.log("valid");else{console.log("not valid"),l.addClass("error");var e=l.intlTelInput("getValidationError");s.html(d[e]),s.removeClass("hidden")}}),l.keyup(r),n.click(function(e){e.preventDefault(),a.find("input").attr("disabled",!1),a.find(".input__wrapper").addClass(i),c(this).toggleClass("hidden"),c(".portal__submit-wrap").toggleClass(i),t.attr("disabled",!0)}),t.click(function(e){e.preventDefault(),l.val(l.intlTelInput("getNumber"));var t=a.serialize()+"&action=vrchecke_portal_form";c.ajax({method:"POST",url:portal_script_options.ajaxurl,data:t,beforeSend:function(){o.toggleClass("loader--active")},complete:function(){o.toggleClass("loader--active")},success:function(e){for(var t in console.log(e.data),e.data)"success"!==t&&a.find("input[name=".concat(t,"]")).val(e.data["".concat(t)]);a.find("input").attr("disabled",!0),a.find(".input__wrapper").removeClass(i),n.toggleClass("hidden"),c(".portal__submit-wrap").toggleClass(i),a.submit()},error:function(e){c('input[name="edit_customer_nonce"]',a).val(e.responseJSON.data.nonce),c("#masthead").after(e.responseJSON.data.errors)}})}),c(".company-select-btn").each(function(){c(this).click(function(e){e.preventDefault(),c("input[name=selected_company]").attr("checked",!1),c(this).parent().parent().find("input[name=selected_company]").attr("checked","checked"),c(".icon-container",".option-container").css("display","none"),c(this).parent().prev().css("display","block")})})})}(jQuery);